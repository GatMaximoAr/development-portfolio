<div class="row mt-5 mb-3">

  <div class="d-flex flex-row-reverse">
    <div [ngClass]="[isAdmin ? '' : 'oculto']">
      <button type="button" class="btn btn-info" (click)="switchValue()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
            <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
        </svg> Editar
    </button>
  </div>

  <div [ngClass]="[isAdmin ? '' : 'oculto']">
    <button type="button" class="btn btn-danger me-2" (click)="delete()">
      X Eliminar
  </button>
</div>

    </div>

  <div *ngIf="!enEdicion; else edicion">

    <h6 class="text-center">{{item.porcentaje}}%</h6>
    <div class="progress" style="height: 1px;">
        <div ngClass="{{cssBoostrap}}" role="progressbar" [style.width]="item.porcentaje + '%'" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      <div class="progress" style="height: 20px;">
        <div ngClass="{{cssBoostrap}}" role="progressbar" [style.width]="item.porcentaje + '%'" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
      </div>

      <div>
        <h5 class="text-center mt-1">
            {{item.titulo}}
        </h5>
    </div>

  </div>

  <ng-template #edicion>

    <div class="row">
      <h6>Editar</h6>
    </div>

    <div class="d-flex flex-row mt-2 mb-3 justify-content-center">
      <form class="d-flex col-4 flex-column justify-content-center" id="skillForm" [formGroup]="formularioSkill" (ngSubmit)="onSubmit(formularioSkill.value)">

        <div class="mb-2">
          <label for="titulo Skill" class="form-label">Titulo de Skill</label>
          <input type="text" class="form-control" id="Titulo" placeholder="Habilidad" formControlName="titulo">
        </div>

        <div class="mb-2">
          <label class="form-label" for="color">Color de Barra</label>
          <select class="form-control" name="color" id="color" form="skillForm" formControlName="color">
            <option value="" selected disabled hidden>Elige un color</option>
            <option value="bg-dark">Negro</option>
            <option value="bg-success">Verde</option>
            <option value="bg-danger">Rojo</option>
            <option value="bg-warning">Amarillo</option>
            <option value="bg-primary">Azul</option>
            <option value="bg-info">Celeste</option>
          </select>
        </div>

        <div class="mb-2">
          <label for="porcentaje" class="form-label">porcentaje de dominio</label>
          <input type="number" max="100" min="1" class="form-control" id="porcentaje" placeholder="porcentaje" formControlName="porcentaje">
        </div>
        
        <button [disabled]="formularioSkill.invalid" type="submit" class="btn btn-primary mt-5 mb-3">
          Enviar 
      </button>

      <button type="button" class="btn btn-danger" (click)="switchValue()">
        Cancelar
      </button>
      </form>
    </div>

  </ng-template>

</div>

